var RevealNotes=function(){function e(){var e=document.querySelector('script[src$="notes.js"]').src;e=e.replace(/notes\.js(\?.*)?$/,"");var n=window.open(e+"notes.html","reveal.js - Notes","width=1120,height=850");function t(e){var t,a=Reveal.getCurrentSlide();if("slidechanged"===e){var d,i,r=a.querySelector("aside.notes"),o=Reveal.getIndices().h,s=Reveal.getIndices().v;a.nextElementSibling&&"SECTION"==a.parentNode.nodeName?(d=o,i=s+1):(d=o+1,i=0),t={notes:r?r.innerHTML:"",indexh:o,indexv:s,nextindexh:d,nextindexv:i,markdown:!!r&&"string"==typeof r.getAttribute("data-markdown")}}else"fragmentshown"===e?t={fragment:"next"}:"fragmenthidden"===e&&(t={fragment:"prev"});n.postMessage(JSON.stringify(t),"*")}Reveal.addEventListener("slidechanged",(function(e){t("slidechanged")})),Reveal.addEventListener("fragmentshown",(function(e){t("fragmentshown")})),Reveal.addEventListener("fragmenthidden",(function(e){t("fragmenthidden")})),n.addEventListener("load",(function(e){t("slidechanged")}),!1)}return null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",(function(n){null!==document.querySelector(":focus")||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||83===n.keyCode&&(n.preventDefault(),e())}),!1),{open:e}}();